(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,function(e,t,c){e.exports={header:"MainNavigation_header__14uXc",logo:"MainNavigation_logo__yrpyL",nav:"MainNavigation_nav__2QiyF",active:"MainNavigation_active__136d2"}},function(e,t,c){e.exports={form:"QuoteForm_form__2nMOJ",loading:"QuoteForm_loading__2avIl",control:"QuoteForm_control__1tBpy",actions:"QuoteForm_actions__3H-VE"}},,function(e,t,c){e.exports={form:"NewCommentForm_form__1AF65",loading:"NewCommentForm_loading__nZ5fp",control:"NewCommentForm_control__SMgwC",actions:"NewCommentForm_actions__2IJD3"}},function(e,t,c){e.exports={list:"QuoteList_list__1E8F8",sorting:"QuoteList_sorting__RCTQN"}},,,,function(e,t,c){e.exports={item:"QuoteItem_item__3GDXy"}},function(e,t,c){e.exports={noquotes:"NoQuotesFound_noquotes__2yEuk"}},,function(e,t,c){e.exports={spinner:"LoadingSpinner_spinner__1aOjR"}},function(e,t,c){e.exports={card:"Card_card__3lBVa"}},function(e,t,c){e.exports={comments:"Comments_comments__ZHRct"}},function(e,t,c){e.exports={item:"CommentItem_item__2pWsF"}},function(e,t,c){e.exports={comments:"CommentsList_comments__1jIx8"}},function(e,t,c){e.exports={quote:"HighlightedQuote_quote__25CuV"}},,,,,,,,,,function(e,t,c){},,function(e,t,c){"use strict";c.r(t);var n=c(13),s=c.n(n),r=(c(32),c(1)),o=c(2),a=c(4),i=c(6),j=c.n(i),u=c(0),l=function(){return Object(u.jsxs)("header",{className:j.a.header,children:[Object(u.jsx)("h1",{className:j.a.logo,children:"Great Quotes"}),Object(u.jsx)("nav",{className:j.a.nav,children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(a.c,{className:function(e){return e.isActive?j.a.active:""},to:"/all-quotes",children:"All Quotes"})}),Object(u.jsx)("li",{children:Object(u.jsx)(a.c,{className:function(e){return e.isActive?j.a.active:""},to:"/new-quote",children:"New Quote"})})]})})]})},d=c(3),b=c(14),m=c.n(b),O=function(e){return Object(u.jsxs)("li",{className:m.a.item,children:[Object(u.jsxs)("figure",{children:[Object(u.jsx)("blockquote",{children:Object(u.jsx)("p",{children:e.text})}),Object(u.jsx)("figcaption",{children:e.author})]}),Object(u.jsx)(a.b,{to:"/all-quotes/".concat(e.id),className:"btn",children:"View Fullscreen"})]})},x=c(10),h=c.n(x),f=function(e){var t=Object(o.h)(),c=Object(o.g)(),n="asc"===new URLSearchParams(c.search).get("sort");return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("div",{className:h.a.sorting,children:Object(u.jsxs)("button",{onClick:function(){var s,r;t({pathname:c.pathname,search:"?sort=".concat(n?"desc":"asc")}),s=e.quotes,r=n,s.sort((function(e,t){return r?e.id>t.id?1:-1:e.id<t.id?1:-1}))},children:["Sort ",n?"Descending":"Ascending"]})}),Object(u.jsx)("ul",{className:h.a.list,children:e.quotes.map((function(e){return Object(u.jsx)(O,{id:e.id,author:e.author,text:e.text},e.id)}))})]})},p=c(15),v=c.n(p),_=function(){return Object(u.jsxs)("div",{className:v.a.noquotes,children:[Object(u.jsx)("p",{children:"No quotes found!"}),Object(u.jsx)(a.b,{to:"/new-quote",className:"btn",children:"Add a Quote"})]})},N=c(11),g=c(16),q=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(null),o=Object(d.a)(s,2),a=o[0],i=o[1],j=Object(r.useCallback)(function(){var e=Object(g.a)(Object(N.a)().mark((function e(t,c){var s,r;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),i(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:if((s=e.sent).ok){e.next=8;break}throw new Error("Request Field");case 8:return e.next=10,s.json();case 10:r=e.sent,c(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),i("Something Went Wrong");case 17:n(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,c){return e.apply(this,arguments)}}(),[]);return{isLoading:c,error:a,requestFn:j}},F=c(17),C=c.n(F),w=function(){return Object(u.jsx)("div",{className:C.a.spinner})},S=function(e){var t=q(),c=t.isLoading,n=t.error,s=t.requestFn,o=Object(r.useState)([]),a=Object(d.a)(o,2),i=a[0],j=a[1];return Object(r.useEffect)((function(){s({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json"},(function(e){var t=[];Object.entries(e).map((function(e){var c=Object(d.a)(e,2),n=c[0],s=c[1];return t.push({id:n,text:s.text,author:s.author})})),j(t)}))}),[s]),c?Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(w,{})}):n?Object(u.jsx)("p",{className:"centered focused",children:n}):n||c||0!==i.length?Object(u.jsx)("div",{children:Object(u.jsx)(f,{quotes:i})}):Object(u.jsx)(_,{})},Q=c(18),y=c.n(Q),L=function(e){return Object(u.jsx)("div",{className:y.a.card,children:e.children})},A=c(7),k=c.n(A),I=function(e){var t=Object(r.useState)(!1),c=Object(d.a)(t,2),n=(c[0],c[1]),s=Object(r.useRef)(),o=Object(r.useRef)();return Object(u.jsx)(r.Fragment,{children:Object(u.jsx)(L,{children:Object(u.jsxs)("form",{onFocus:function(){n(!0)},className:k.a.form,onSubmit:function(t){t.preventDefault();var c=s.current.value,n=o.current.value;e.onAddQuote({author:c,text:n})},children:[e.isLoading&&Object(u.jsx)("div",{className:k.a.loading,children:Object(u.jsx)(w,{})}),Object(u.jsxs)("div",{className:k.a.control,children:[Object(u.jsx)("label",{htmlFor:"author",children:"Author"}),Object(u.jsx)("input",{type:"text",id:"author",ref:s})]}),Object(u.jsxs)("div",{className:k.a.control,children:[Object(u.jsx)("label",{htmlFor:"text",children:"Text"}),Object(u.jsx)("textarea",{id:"text",rows:"5",ref:o})]}),Object(u.jsx)("div",{className:k.a.actions,children:Object(u.jsx)("button",{onClick:function(){n(!1)},className:"btn",children:"Add Quote"})})]})})})},E=function(e){var t=Object(o.h)(),c=q(),n=c.isLoading,s=c.error,a=c.requestFn,i=Object(r.useState)(!1),j=Object(d.a)(i,2),l=j[0],b=j[1];return!l||s||n||t("/all-quotes"),Object(u.jsx)("div",{children:Object(u.jsx)(I,{isLoading:n,onAddQuote:function(e){a({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json",method:"POST",body:e},(function(e){b(!0)}))}})})},R=c(23),M=c(19),D=c.n(M),J=c(9),T=c.n(J),P=function(e){var t=Object(r.useRef)(),c=function(c){c.preventDefault(),e.onAddComment(t.current.value)};return e.isLoading?Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(w,{})}):Object(u.jsxs)("form",{className:T.a.form,onSubmit:c,children:[Object(u.jsxs)("div",{className:T.a.control,onSubmit:c,children:[Object(u.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(u.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),Object(u.jsx)("div",{className:T.a.actions,children:Object(u.jsx)("button",{className:"btn",children:"Add Comment"})})]})},V=c(20),B=c.n(V),G=function(e){return Object(u.jsx)("li",{className:B.a.item,children:Object(u.jsx)("p",{children:e.text})})},H=c(21),W=c.n(H),U=function(e){var t=Object(o.i)(),c=e.comments.filter((function(e){return e.quote===t.quoteId})),n=c.map((function(e){return Object(u.jsx)(G,{text:e.text},e.id)}));return 0===c.length&&(n=Object(u.jsx)("p",{className:"centered",children:"no comments were added yet for this quote"})),Object(u.jsx)("ul",{className:W.a.comments,children:n})},X=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(o.i)(),a=Object(o.h)(),i=(Object(o.g)(),q()),j=i.isLoading,l=i.error,b=i.requestFn,m=Object(r.useState)(!1),O=Object(d.a)(m,2),x=O[0],h=O[1];Object(r.useEffect)((function(){j||l||!x||a(-1)}),[l,j,x,a]);var f,p=q(),v=p.isLoading,_=p.error,N=p.requestFn,g=Object(r.useState)([]),F=Object(d.a)(g,2),C=F[0],S=F[1];return Object(r.useEffect)((function(){N({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/comments.json"},(function(e){var t=[];Object.entries(e).map((function(e){var c=Object(d.a)(e,2),n=c[0],s=c[1];return t.push({id:n,text:s.text,quote:s.quote})})),S(t)}))}),[N]),v&&(f=Object(u.jsxs)("div",{className:"centered",children:[Object(u.jsx)(w,{})," "]})),!v&&!_&&C.length>0&&(f=Object(u.jsx)(U,{comments:C})),v||_||0!==C.length||(f=Object(u.jsx)("p",{className:"centered",children:"no comments were added yet"})),Object(u.jsxs)("section",{className:D.a.comments,children:[Object(u.jsx)("h2",{children:"User Comments"}),!c&&Object(u.jsx)("button",{className:"btn",onClick:function(){n(!0)},children:"Add a Comment"}),c&&Object(u.jsx)(P,{isLoading:j,onAddComment:function(e){b({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/comments.json",method:"POST",body:{quote:s.quoteId,text:e}},(function(e){h(!0)}))},error:l}),f]})},Z=c(22),Y=c.n(Z),z=function(e){return Object(u.jsxs)("figure",{className:Y.a.quote,children:[Object(u.jsx)("p",{children:e.text}),Object(u.jsx)("figcaption",{children:e.author})]})},K=function(){var e=Object(o.i)(),t=(Object(o.h)(),Object(o.g)());console.log(t);var c=q(),n=c.isLoading,s=c.error,i=c.requestFn,j=Object(r.useState)([]),l=Object(d.a)(j,2),b=l[0],m=l[1];Object(r.useEffect)((function(){i({url:"https://react-router-fcb08-default-rtdb.firebaseio.com/quotes.json"},(function(e){var t=[];Object.entries(e).map((function(e){var c=Object(d.a)(e,2),n=c[0],s=c[1];return t.push({id:n,text:s.text,author:s.author})})),m(t)}))}),[i]);var O=b.filter((function(t){return t.id===e.quoteId})),x=Object(d.a)(O,1)[0],h=Object(R.a)({},x);return n?Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(w,{})}):s?Object(u.jsx)("p",{className:"centered focused",children:s}):s||n||""!==h.text?Object(u.jsxs)("div",{children:[Object(u.jsx)(z,{text:h.text,author:h.author}),t.pathname==="/all-quotes/".concat(e.quoteId)&&Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(a.b,{className:"btn--flat",to:"/all-quotes/".concat(e.quoteId,"/comments"),children:"Load Comments"})}),Object(u.jsx)(o.b,{})]}):Object(u.jsx)("p",{children:"No Quote Found"})},$=function(){return Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)("p",{children:"Page Not Found"})})};var ee=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(l,{}),Object(u.jsx)("main",{className:"main",children:Object(u.jsxs)(o.e,{children:[Object(u.jsx)(o.c,{path:"/",element:Object(u.jsx)(o.a,{to:"/all-quotes"})}),Object(u.jsx)(o.c,{path:"/all-quotes",element:Object(u.jsx)(S,{})}),Object(u.jsx)(o.c,{path:"/new-quote",element:Object(u.jsx)(E,{})}),Object(u.jsx)(o.c,{path:"/all-quotes/:quoteId",element:Object(u.jsx)(K,{}),children:Object(u.jsx)(o.c,{path:"comments",element:Object(u.jsx)(X,{})})}),Object(u.jsx)(o.c,{path:"*",element:Object(u.jsx)($,{})})]})})]})};s.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(a.a,{children:Object(u.jsx)(ee,{})}))}],[[34,1,2]]]);
//# sourceMappingURL=main.397a1bf4.chunk.js.map